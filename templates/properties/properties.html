{% extends "base.html" %}
{% load humanize %}
{% load static %}

{% block content %}
<div class="card_container">
  <div class="container">
    <div class="row">
      {% for property in properties %}
        <div class="col-md-4 mb-4">
          <a href="{% url 'property-by-id' id=property.id %}" class="text-decoration-none text-reset">
            <div class="card property-card {% if property.is_sold %}card-disabled{% endif %} h-100 position-relative">
              <img src="{{ property.image_cover }}" class="card-img-top" alt="Property image">
              <div class="card-body">
                <h5 class="card-address">{{ property.property_address }}, {{ property.postalcode }} {{ property.city }}</h5>
                <h3 class="card-city-and-post-code">{{ property.postalcode }} {{ property.city }}</h3>
                <ul class="card-details">
                  <li><strong>Type:</strong> {{ property.property_type }}</li>
                  <li><strong>Size:</strong> {{ property.squaremeters }} mÂ²</li>
                  <li><strong>Listed:</strong> {{ property.listing_date }}</li>
                  <li class="sold-status">
                    <strong>Status:</strong>
                    <span class="badge {% if not property.is_sold %}bg-success{% else %}bg-danger{% endif %}">
                      {{ property.is_sold|yesno:"Sold,Available" }}
                    </span>
                  </li>
                </ul>
                <p class="card-price">Price: {{ property.property_price|intcomma }} kr</p>
              </div>
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
